import{r as i,c as h,w as u,o as r,a as e,b as m,d as c,g as _,n as w,t as f,F as v,k as O,s as q,q as P,O as j}from"./app-db99a8de.js";import{l as B}from"./lodash-4ae8787a.js";import{_ as C}from"./DriverAppLayout-1e421c3a.js";import{U as I,I as S}from"./InfiniteScroll-5a3d1ae1.js";import $ from"./OrderSearchModal-d49829ce.js";import N from"./Basket-08310d85.js";import"./ToastList-a27e7632.js";import"./toast-fa86451f.js";import"./BasketButton-5e4097f8.js";import"./BarcodeSearchVerifyModal-7df29adb.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./transition-3d77d2f5.js";import"./ProductBasket-e3ec40d4.js";import"./DropdownLink-90b6c403.js";const T={class:"flex justify-between items-center px-4 py-3 border-b"},U={class:"flex"},V={class:"flex flex-row justify-between p-2 items-center border-b"},D={id:"overflow-x-auto",class:"flex gap-2 overflow-x-auto"},E=["onClick"],F={class:"pl-1 w-28 text-right"},M={class:"flex items-center"},R=e("label",{class:"text-[10px] text-right",for:"khr"}," khr ",-1),z={class:"text-purple-900 font-semibold text-xs"},L={key:0,class:"p-2 flex-1 text-center"},A=e("span",null," No results...",-1),G=[A],ie={__name:"IndexOrders",props:{items:Object,order_status:Object,rates:Object,queryParams:Object},setup(o){const a=o;i(4e3);const p=i(0);i(0),i("scroll");const l=i({status:a.queryParams.status,term:a.queryParams.term,store:a.queryParams.store,rate:a.queryParams.rate}),b=()=>{x()},g=(n,t)=>{p.value=n,l.value.status=t,x()},y=i(a.items.meta.last_page),k=async n=>{if(n>y.value)return;let t=await P.get(route("stores.orders.index",{page:n,status:l.value.status,rate:l.value.rate}));setTimeout(()=>{a.items.data.push(...t.data.data),a.items.meta.total=t.data.meta.total},100)},x=()=>{j.get(route("stores.orders.index"),B.pickBy(l.value),{preserveState:!0})};return(n,t)=>(r(),h(C,{title:"Orders"},{header:u(()=>[e("div",T,[m(I,{title:"Orders"}),e("div",U,[m($)])])]),default:u(()=>[e("div",V,[e("div",D,[(r(!0),c(v,null,_(o.order_status,(s,d)=>(r(),c("button",{key:"index",class:w(["py-1 px-3 text-sm outline-none focus:rounded-3xl",{"bg-purple-600 text-white font-semibold rounded-3xl":d==p.value}]),onClick:H=>g(d,s.value)},[e("span",null,f(s.label),1)],10,E))),128))]),e("div",F,[e("div",M,[O(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value.rate=s),onChange:t[1]||(t[1]=s=>b()),class:"text-gray-500 text-center text-[10px] font-semibold focus:outline-none ring-0 h-6 p-0 w-full border-0 focus:ring-0 focus:border-none"},[(r(!0),c(v,null,_(o.rates,(s,d)=>(r(),c("option",null,f(s.label),1))),256))],544),[[q,l.value.rate]]),R]),e("p",z,"Total: "+f(o.items.meta.total),1)])]),o.items.data.length==0?(r(),c("div",L,G)):(r(),h(S,{key:1,items:o.items.data,onRefetch:k,loadingText:"loading..."},{item:u(({item:s})=>[m(N,{item:s},null,8,["item"])]),_:1},8,["items"]))]),_:1}))}};export{ie as default};
