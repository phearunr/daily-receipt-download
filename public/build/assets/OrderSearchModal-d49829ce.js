import{r as v,q as C,m as S,x as K,B as T,d as c,a as e,t as i,C as D,b as u,w as y,F as w,z as x,o as f,h as O,g as A,n as M,f as b,e as k}from"./app-db99a8de.js";import{l as R}from"./lodash-4ae8787a.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import{q as z,K as B,S as E,h as I}from"./transition-3d77d2f5.js";const N={components:{Dialog:z,DialogOverlay:B,TransitionRoot:E,TransitionChild:I},setup(){const n=(()=>{var a;const s=((a=navigator==null?void 0:navigator.userAgentData)==null?void 0:a.platform)||(navigator==null?void 0:navigator.platform)||"unknown";return/(Mac|iPhone|iPod|iPad)/i.test(s)})()?"âŒ˜K":"Ctrl+K",m=v(!1),t=s=>{m.value||(s.metaKey||s.ctrlKey)&&s.key==="k"&&(m.value=!0)},l=v([]),p=v([]),r=v(0),d=R.debounce(async s=>{let{data:a}=await C.get(route("stores.orders.index"),{params:{term:s}});l.value=a.data,await S(),p.value=[]},250),_=s=>{var a;switch(s.code){case"ArrowDown":r.value===l.value.length-1?r.value=0:r.value+=1;break;case"ArrowUp":r.value===0?r.value=l.value.length-1:r.value-=1;break}(a=p.value[r.value])==null||a.scrollIntoView(!1)},g=s=>{["ArrowUp","ArrowDown"].includes(s.code)&&s.preventDefault()},o=()=>{l.value[r.value]&&(window.location=l.value[r.value].url)};return K(()=>{window.addEventListener("keydown",t),d()}),T(()=>window.removeEventListener("keydown",t)),{onSubmit:o,navigateResults:_,onTermKeydown:g,resultsRefs:p,selectedIndex:r,results:l,search:d,isOpen:m,keyboardShortcut:n}}},V=e("svg",{class:"flex-none text-gray-400 -ml-1",width:"24",height:"24",fill:"none","aria-hidden":"true"},[e("path",{d:"m19 19-3.5-3.5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("circle",{cx:"11",cy:"11",r:"6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),q=e("span",{class:"text-sm text-gray-400 flex-1 text-left"},"Search...",-1),P={class:"flex-none text-xs font-semibold text-gray-400"},L={class:"flex flex-col overflow-hidden z-0 w-full max-w-2xl bg-white rounded-lg mx-4 max-h-[80vh] mt-[10vh] relative"},U=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none"},[e("svg",{class:"w-5 h-5 text-gray-700",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),F={class:"absolute inset-y-0 right-0 flex items-center pr-3"},G={class:"overflow-auto"},Q={key:0,class:"divide-y divide-gray-100"},H=["onMousemove"],J={class:"flex"},W=["src","alt"],X=["href"],Y=e("span",{class:"absolute inset-0"},null,-1),Z=[Y],$={class:"ml-3"},ee={class:"font-semibold text-xs text-purple-600"},te={class:"text-xs text-gray-600 mt-1"},oe={class:"text-xs text-gray-600 mt-1"},se={class:"text-sm text-gray-400"},ne={class:"text-gray-600 font-semibold"},re={class:"text-gray-600 font-semibold"},ae={key:1,class:"p-10 text-lg text-center text-gray-400"};function le(h,n,m,t,l,p){const r=x("DialogOverlay"),d=x("TransitionChild"),_=x("Dialog"),g=x("TransitionRoot");return f(),c(w,null,[e("button",D({onClick:n[0]||(n[0]=o=>t.isOpen=!0)},h.$attrs,{class:"flex items-center space-x-2 border border-gray-900/10 shadow-sm px-3 py-1.5 hover:border-gray-300 focus:outline-none focus:border-gray-300 rounded-lg"}),[V,q,e("span",P,i(t.keyboardShortcut),1)],16),u(g,{show:t.isOpen,as:"template"},{default:y(()=>[u(_,{onKeydown:t.navigateResults,class:"fixed inset-0 z-50 flex justify-center items-start",open:t.isOpen,onClose:n[5]||(n[5]=o=>t.isOpen=!1)},{default:y(()=>[u(d,{enter:"duration-200 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0",as:"template"},{default:y(()=>[u(r,{class:"fixed inset-0 bg-black bg-opacity-70"})]),_:1}),u(d,{enter:"duration-200 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95",as:"template"},{default:y(()=>[e("div",L,[e("form",{onSubmit:n[4]||(n[4]=O((...o)=>t.onSubmit&&t.onSubmit(...o),["prevent"])),class:"relative flex items-center",action:"#"},[U,e("input",{onKeydown:n[1]||(n[1]=(...o)=>t.onTermKeydown&&t.onTermKeydown(...o)),onInput:n[2]||(n[2]=o=>t.search(o.target.value)),class:"w-full py-4 pl-12 border-b border-gray-100 outline-none placeholder-gray-400",type:"text",placeholder:"Search..."},null,32),e("div",F,[e("button",{onClick:n[3]||(n[3]=o=>t.isOpen=!1),class:"flex items-center p-1.5 uppercase font-semibold tracking-wider text-gray-700 rounded-md border border-gray-200 focus:outline-none focus:border-gray-300 text-xxs",type:"button"},"Esc ")])],32),e("div",G,[t.results.length>0?(f(),c("ul",Q,[(f(!0),c(w,null,A(t.results,(o,s)=>(f(),c("li",{key:s,ref_for:!0,ref:a=>{t.resultsRefs[s]=a},class:M([t.selectedIndex===s?"bg-gray-100":"","flex items-center justify-between px-4 py-2.5 relative"]),onMousemove:a=>t.selectedIndex=s},[e("div",J,[e("img",{src:o.featured_image,alt:o.buyer_name,class:"w-16 h-16 rounded-full object-cover border-white border-2 shrink-0 bg-gray-200"},null,8,W),e("a",{href:h.route("stores.orders.index",{term:o.order_id})},Z,8,X),e("div",$,[e("div",ee,i(o.buyer_name),1),e("div",te,i(o.order_sn),1),e("div",oe,i(o.order_date),1)])]),e("div",se,[e("div",null,[b(" Total Quantity: "),e("span",ne,i(o.total_quantity),1)]),e("div",null,[b(" Grand Total: "),e("span",re,i(o.currency)+i(o.grand_total_price),1)])])],42,H))),128))])):k("",!0),t.results.length===0?(f(),c("p",ae," No results... ")):k("",!0)])])]),_:1})]),_:1},8,["onKeydown","open"])]),_:1},8,["show"])],64)}const fe=j(N,[["render",le]]);export{fe as default};
