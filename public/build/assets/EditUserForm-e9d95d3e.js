import{T as V,r as d,j as w,c as S,w as t,o as u,f as r,a as i,b as a,u as s,d as c,h as x,i as $,k as _,Q as C,e as U,s as B,g as E,t as I,F as N,n as P}from"./app-db99a8de.js";import{_ as j}from"./ActionMessage-809777a4.js";import{_ as F}from"./FormSection-13313034.js";import{_ as v,a as h}from"./TextInput-ac808046.js";import{_ as g}from"./InputLabel-7439efbb.js";import{_ as M}from"./PrimaryButton-a360dc37.js";import"./SectionTitle-41018c41.js";import"./_plugin-vue_export-helper-c27b6911.js";const T={class:"col-span-6 sm:col-span-4"},A={class:"col-span-6 sm:col-span-4"},D={key:0},L={class:"text-sm mt-2"},O={class:"mt-2 font-medium text-sm text-green-600"},z={class:"col-span-6 sm:col-span-4"},Q=["value"],X={__name:"EditUserForm",props:{user:Object,roles:Object},setup(f){const n=f,e=V({_method:"PUT",name:n.user.name,email:n.user.email,roles:n.user.roles.map(m=>m.id),photo:null}),b=d(null);d(null);const p=d(null),k=()=>{p.value&&(e.photo=p.value.files[0]),e.put(route("system.users.update",n.user.id),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>clearPhotoFileInput()})},y=w(()=>[{value:null,label:"Any role"},...n.roles]);return(m,l)=>(u(),S(F,{onSubmitted:k},{title:t(()=>[r(" Profile Information ")]),description:t(()=>[r(" Update your account's profile information and email address. ")]),form:t(()=>[i("div",T,[a(g,{for:"name",value:"Name"}),a(v,{id:"name",modelValue:s(e).name,"onUpdate:modelValue":l[0]||(l[0]=o=>s(e).name=o),type:"text",class:"mt-1 block w-full",autocomplete:"name"},null,8,["modelValue"]),a(h,{message:s(e).errors.name,class:"mt-2"},null,8,["message"])]),i("div",A,[a(g,{for:"email",value:"Email"}),a(v,{id:"email",modelValue:s(e).email,"onUpdate:modelValue":l[1]||(l[1]=o=>s(e).email=o),type:"email",class:"mt-1 block w-full",autocomplete:"username"},null,8,["modelValue"]),a(h,{message:s(e).errors.email,class:"mt-2"},null,8,["message"]),m.$page.props.jetstream.hasEmailVerification&&f.user.email_verified_at===null?(u(),c("div",D,[i("p",L,[r(" Your email address is unverified. "),a(s($),{href:m.route("verification.send"),method:"post",as:"button",class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:x(m.sendEmailVerification,["prevent"])},{default:t(()=>[r(" Click here to re-send the verification email. ")]),_:1},8,["href","onClick"])]),_(i("div",O," A new verification link has been sent to your email address. ",512),[[C,b.value]])])):U("",!0)]),i("div",z,[_(i("select",{multiple:"","onUpdate:modelValue":l[2]||(l[2]=o=>s(e).roles=o),"aria-label":"Media date",id:"date",class:"pr-10 pl-3 w-full h-11 backdrop:rounded border-gray-300 shadow-sm lg:h-9 lg:text-sm sm:w-44 focus:outline-none focus:ring-blue-500 focus:border-blue-500"},[(u(!0),c(N,null,E(s(y),o=>(u(),c("option",{value:o.value},I(o.label),9,Q))),256))],512),[[B,s(e).roles]])])]),actions:t(()=>[a(j,{on:s(e).recentlySuccessful,class:"mr-3"},{default:t(()=>[r(" Saved. ")]),_:1},8,["on"]),a(M,{class:P({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:t(()=>[r(" Save ")]),_:1},8,["class","disabled"])]),_:1}))}};export{X as default};
